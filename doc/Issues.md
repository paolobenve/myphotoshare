# Known issues

Updated: 2018-02-28

#### Issues related to previous scanner versions

##### Previous bug

The scanner had bug in the past, so thumbnail generated with previous versions of the scanner could have some defect or lack something:
* fixed height media thumbnails could result blurred
* video thumbnails could lack the transparent video marker

You can delete once for ever all the cache content, but perhaps you don't want to regenerate again all the thumbnails. The solution is to manually delete only the "failed" thumbnail.

As an example, the command to delete thumbnails of `mp4` videos is:

    find /your/cache/directory/ -iname "*mp4_*.jpg" -exec rm {} \;

Repeat the same command for other video extensions, like `avi`.

##### Added gps data

The scanner could not be able to add gps data if json files where generated by pre-gps (<= 2.8) versions; you must manually delete all the json files in cache folder in order to get them with all the needed data

#### jquery and other system packages

On Debian/Ubuntu, installing system-wide JavaScript packages like jquery seems not to be enough, at least with apache2: `sudo a2enconf javascript-common` (followed by `sudo service apache2 reload`) must be run on the server to enable the use of `/javascript` virtual directory.

#### ffmpeg/avconv version

Old `ffmpeg/avconv` could not be able to transcode some video. Be sure you have the last version installed.

#### Video date and time

The scanner gets modification date-time for video date-time. Be sure you do not modify it; or, if you modified it, touch it to desidered date-time.

#### Pillow bug

As a result of a pillow bug, exif data could not be read for some photos which have two APP1 (0xFFE1/65505) aka Exif segments. A fix is available, see https://github.com/python-pillow/Pillow/issues/2944#issuecomment-356316273: a line of code is to be added in a python source file.

#### Oriental languages

Oriental languages like chinese do not define easily word separation, so whole word search could thrown no results, try inside word search.

#### python3-exif not present in debian Jessie

Due to a bug in PIL `_getexif()`, `exifread` (`python3-exifread` package in `debian`) is used in order to get the exif metadata from the photos beginning with version 3.4beta9. However, `python3-exifread` is not packaged for `debian jessie`, so python2 is to be used instead of python3 for the scanner: simply change "python3" to "python2" in the first line of `scanner/main.py`.
